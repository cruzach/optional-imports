{"version":3,"sources":["StripeProvider.tsx"],"names":["React","useEffect","NativeStripeSdk","isAndroid","pjson","appInfo","name","url","repository","version","StripeProvider","children","publishableKey","merchantIdentifier","threeDSecureParams","stripeAccountId","initialise"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,eAAP,MAA4B,oBAA5B;AACA,SAASC,SAAT,QAA0B,YAA1B;AAEA,OAAOC,KAAP,MAAkB,oBAAlB;AAEA;AACA;AACA;;AASA,MAAMC,OAAgB,GAAG;AACvBC,EAAAA,IAAI,EAAEF,KAAK,CAACE,IADW;AAEvBC,EAAAA,GAAG,EAAEH,KAAK,CAACI,UAFY;AAGvBC,EAAAA,OAAO,EAAEL,KAAK,CAACK;AAHQ,CAAzB;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,cAAT,CAAwB;AAC7BC,EAAAA,QAD6B;AAE7BC,EAAAA,cAF6B;AAG7BC,EAAAA,kBAH6B;AAI7BC,EAAAA,kBAJ6B;AAK7BC,EAAAA;AAL6B,CAAxB,EAMG;AACRd,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIW,cAAc,KAAK,EAAvB,EAA2B;AACzB;AACD;;AACD,QAAIT,SAAJ,EAAe;AACbD,MAAAA,eAAe,CAACc,UAAhB,CACEJ,cADF,EAEEP,OAFF,EAGEU,eAHF,EAIED,kBAJF;AAMD,KAPD,MAOO;AACLZ,MAAAA,eAAe,CAACc,UAAhB,CACEJ,cADF,EAEEP,OAFF,EAGEU,eAHF,EAIED,kBAJF,EAKED,kBALF;AAOD;AACF,GApBQ,EAoBN,CAACD,cAAD,EAAiBC,kBAAjB,EAAqCE,eAArC,EAAsDD,kBAAtD,CApBM,CAAT;AAsBA,sBAAO,0CAAGH,QAAH,CAAP;AACD","sourcesContent":["import React, { useEffect } from 'react';\n\nimport NativeStripeSdk from '../NativeStripeSdk';\nimport { isAndroid } from '../helpers';\nimport type { AppInfo, ThreeDSecureConfigurationParams } from '../types';\nimport pjson from '../../package.json';\n\n/**\n *  Stripe Provider Component Props\n */\nexport interface Props {\n  publishableKey: string;\n  merchantIdentifier?: string;\n  threeDSecureParams?: ThreeDSecureConfigurationParams;\n  stripeAccountId?: string;\n  children: React.ReactElement | React.ReactElement[];\n}\n\nconst appInfo: AppInfo = {\n  name: pjson.name,\n  url: pjson.repository,\n  version: pjson.version,\n};\n\n/**\n *  StripeProvider Component\n *\n * @example\n * ```ts\n *  <StripeProvider\n *    publishableKey=\"_publishableKey\"\n *    merchantIdentifier=\"merchant.com.stripe.react.native\"\n *    threeDSecureParams={{\n *      backgroundColor: \"#FFF\",\n *      timeout: 5,\n *    }}\n *  >\n *    <App />\n *  </StripeProvider>\n * ```\n * @param __namedParameters Props\n * @returns JSX.Element\n * @category ReactComponents\n */\nexport function StripeProvider({\n  children,\n  publishableKey,\n  merchantIdentifier,\n  threeDSecureParams,\n  stripeAccountId,\n}: Props) {\n  useEffect(() => {\n    if (publishableKey === '') {\n      return;\n    }\n    if (isAndroid) {\n      NativeStripeSdk.initialise(\n        publishableKey,\n        appInfo,\n        stripeAccountId,\n        threeDSecureParams\n      );\n    } else {\n      NativeStripeSdk.initialise(\n        publishableKey,\n        appInfo,\n        stripeAccountId,\n        threeDSecureParams,\n        merchantIdentifier\n      );\n    }\n  }, [publishableKey, merchantIdentifier, stripeAccountId, threeDSecureParams]);\n\n  return <>{children}</>;\n}\n"]}